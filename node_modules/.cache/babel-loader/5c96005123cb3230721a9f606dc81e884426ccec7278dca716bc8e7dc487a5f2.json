{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wisse\\\\Asp.netReact_Training\\\\test1\\\\qAndA\\\\frontend\\\\src\\\\QuestionPage.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getQuestion } from \"./questionsData\";\nimport { AnswersList } from \"./AnswerList\";\nimport { useForm } from \"react-hook-form\";\nimport { postAnswer } from \"./questionsData\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { gettingQuestionAction, gotQuestionAction } from \"./Store\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const QuestionPage = () => {\n  _s();\n  var _errors$content;\n  const {\n    isAuthenticated\n  } = useAuth0();\n  const dispatch = useDispatch();\n  const question = useSelector(state => state.questions.viewing);\n  const {\n    Id\n  } = useParams();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [successfull, setSuccessfull] = React.useState(false);\n  const onSubmit = async data => {\n    const res = await postAnswer({\n      Id: question.questionId,\n      content: data.content,\n      userName: \"wissem\",\n      created: new Date()\n    });\n    setSuccessfull(res ? true : false);\n  };\n  React.useEffect(() => {\n    const doGetQuestion = async Id => {\n      dispatch(gettingQuestionAction());\n      const foundQuestion = await getQuestion(Id);\n      dispatch(gotQuestionAction(foundQuestion));\n    };\n    if (Id) {\n      doGetQuestion(Number(Id));\n    }\n  }, [Id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card m-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-header\",\n      children: question === null ? \"\" : question.userName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"blockquote\", {\n        className: \"blockquote mb-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"fw-bold ms-4 fs-3\",\n          children: question === null ? \"\" : question.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ms-4 text-dark\",\n          children: question === null ? \"\" : question.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"blockquote-footer fs-6 ms-4 fw-lighter fst-italic\",\n          children: `on ${question === null || question === void 0 ? void 0 : question.created.toLocaleDateString()} ${question === null || question === void 0 ? void 0 : question.created.toLocaleTimeString()}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AnswersList, {\n          data: question === null ? undefined : question.answers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: isAuthenticated && /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-secondary d-flex justify-content-center m-4\",\n              children: \"Your Answer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-floating\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                ...register(\"content\", {\n                  minLength: 55\n                }),\n                className: \"form-control\",\n                placeholder: \"Leave a comment here\",\n                id: \"floatingTextarea2\",\n                style: {\n                  height: \"100px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this), ((_errors$content = errors.content) === null || _errors$content === void 0 ? void 0 : _errors$content.type) === \"minLength\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger p-2 fs-6 fw-bold fst-italic opacity-75\",\n              children: \"this field requieres 50 characters as minimum length\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success mt-4\",\n              disabled: successfull,\n              children: \"Submit your asnwer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 33\n            }, this), successfull && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success p-2 fs-6 fw-bold fst-italic opacity-75\",\n              children: \"your answer has been submitted successfully\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(QuestionPage, \"W1u/AGSfCVqg76E2giqmaIg4Wx4=\", false, function () {\n  return [useAuth0, useDispatch, useSelector, useParams, useForm];\n});\n_c = QuestionPage;\nvar _c;\n$RefreshReg$(_c, \"QuestionPage\");","map":{"version":3,"names":["React","useParams","getQuestion","AnswersList","useForm","postAnswer","useSelector","useDispatch","gettingQuestionAction","gotQuestionAction","useAuth0","QuestionPage","isAuthenticated","dispatch","question","state","questions","viewing","Id","register","handleSubmit","formState","errors","successfull","setSuccessfull","useState","onSubmit","data","res","questionId","content","userName","created","Date","useEffect","doGetQuestion","foundQuestion","Number","title","toLocaleDateString","toLocaleTimeString","undefined","answers","minLength","height","type"],"sources":["C:/Users/wisse/Asp.netReact_Training/test1/qAndA/frontend/src/QuestionPage.tsx"],"sourcesContent":["import { Page } from \"./Page\";\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { QuestionData, getQuestion } from \"./questionsData\";\r\nimport { AnswersList } from \"./AnswerList\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { postAnswer } from \"./questionsData\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { AppState, gettingQuestionAction, gotQuestionAction } from \"./Store\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\ntype FormData = {\r\n    content: string;\r\n};\r\n\r\nexport const QuestionPage = () => {\r\n    const { isAuthenticated } = useAuth0();\r\n    const dispatch = useDispatch();\r\n    const question = useSelector((state: AppState) => state.questions.viewing);\r\n    const { Id } = useParams();\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n    } = useForm<FormData>();\r\n    const [successfull, setSuccessfull] = React.useState(false);\r\n\r\n    const onSubmit = async (data: FormData) => {\r\n        const res = await postAnswer({\r\n            Id: question!.questionId,\r\n            content: data.content,\r\n            userName: \"wissem\",\r\n            created: new Date(),\r\n        });\r\n        setSuccessfull(res ? true : false);\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const doGetQuestion = async (Id: number) => {\r\n            dispatch(gettingQuestionAction());\r\n            const foundQuestion = await getQuestion(Id);\r\n            dispatch(gotQuestionAction(foundQuestion));\r\n        };\r\n        if (Id) {\r\n            doGetQuestion(Number(Id));\r\n        }\r\n    }, [Id]);\r\n\r\n    return (\r\n        <div className=\"card m-5\">\r\n            <div className=\"card-header\">\r\n                {question === null ? \"\" : question.userName}\r\n            </div>\r\n            <div className=\"card-body\">\r\n                <blockquote className=\"blockquote mb-0\">\r\n                    <p className=\"fw-bold ms-4 fs-3\">\r\n                        {question === null ? \"\" : question.title}\r\n                    </p>\r\n                    <p className=\"ms-4 text-dark\">\r\n                        {question === null ? \"\" : question.content}\r\n                    </p>\r\n                    <footer className=\"blockquote-footer fs-6 ms-4 fw-lighter fst-italic\">\r\n                        {`on ${question?.created.toLocaleDateString()} ${question?.created.toLocaleTimeString()}`}\r\n                    </footer>\r\n                    <AnswersList\r\n                        data={question === null ? undefined : question.answers}\r\n                    />\r\n                    <div className=\"container\">\r\n                        {isAuthenticated && (\r\n                            <form onSubmit={handleSubmit(onSubmit)}>\r\n                                <h4 className=\"text-secondary d-flex justify-content-center m-4\">\r\n                                    Your Answer\r\n                                </h4>\r\n                                <div className=\"form-floating\">\r\n                                    <textarea\r\n                                        {...register(\"content\", {\r\n                                            minLength: 55,\r\n                                        })}\r\n                                        className=\"form-control\"\r\n                                        placeholder=\"Leave a comment here\"\r\n                                        id=\"floatingTextarea2\"\r\n                                        style={{ height: \"100px\" }}\r\n                                    ></textarea>\r\n                                </div>\r\n                                {errors.content?.type === \"minLength\" && (\r\n                                    <p className=\"text-danger p-2 fs-6 fw-bold fst-italic opacity-75\">\r\n                                        this field requieres 50 characters as\r\n                                        minimum length\r\n                                    </p>\r\n                                )}\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-success mt-4\"\r\n                                    disabled={successfull}\r\n                                >\r\n                                    Submit your asnwer\r\n                                </button>\r\n                                {successfull && (\r\n                                    <p className=\"text-success p-2 fs-6 fw-bold fst-italic opacity-75\">\r\n                                        your answer has been submitted\r\n                                        successfully\r\n                                    </p>\r\n                                )}\r\n                            </form>\r\n                        )}\r\n                    </div>\r\n                </blockquote>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}